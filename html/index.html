<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">

	<title>Brightcove Native Player for iOS Reference</title>

	<link rel="stylesheet" href="css/style.css">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1.4">
	<meta name="generator" content="appledoc 2.2.1 (build 1334)">
</head>
<body class="appledoc">
	<header>
		<div class="container" class="hide-in-xcode">
			
			<h1 id="library-title">
				<a href="index.html">Brightcove Native Player for iOS </a>
			</h1>

			<p id="developer-home">
				<a href="index.html">Brightcove</a>
			</p>
			
		</div>
	</header>

	<aside>
		<div class="container">
			<nav>
				<ul id="header-buttons" role="toolbar">
					<li><a href="hierarchy.html">Hierarchy</a></li>
				</ul>
			</nav>
		</div>
	</aside>

	<article>
		<div id="overview-contents" class="container">
			<div id="content">
				<main role="main">
					<h1 class="title">Brightcove Native Player for iOS Reference</h1>

					
					<div class="section section-overview index-overview">
						
						
						<h1>Google Cast Plugin for Brightcove Player SDK for iOS, version 7.0.0.9</h1>

<h2>Installation</h2>

<p>The Google Cast Plugin for Brightcove Player SDK provides a static library framework for installation.</p>

<p>The Google Cast plugin supports version 4.8.1 of the Google Cast SDK for iOS. The Google Cast release notes can be found <a href="https://developers.google.com/cast/docs/release-notes">here</a>.</p>

<h3>CocoaPods</h3>

<p>You can use <a href="http://cocoapods.org">CocoaPods</a> to add the Google Cast Plugin for Brightcove Player SDK to your project.  You can find the latest Brightcove-Player-GoogleCast podspecs <a href="https://github.com/brightcove/BrightcoveSpecs/tree/master/Brightcove-Player-GoogleCast">here</a>. The pod will incorporate the correct version of GoogleCast automatically.</p>

<p>CocoaPod Podfile example:</p>

<pre><code>source 'https://github.com/CocoaPods/Specs'
source 'https://github.com/brightcove/BrightcoveSpecs.git'

platform :ios, '14.0'

use_frameworks!

target 'ExampleApp' do
    pod 'Brightcove-Player-GoogleCast'
end
</code></pre>

<p>When updating your installation, it&rsquo;s a good idea to refresh the local copy of your BrightcoveSpecs repository to ensure you have the latest podspecs locally, just like you would update your CococaPods master repository. Use <code>pod repo update</code> to do so.</p>

<h3>Manual</h3>

<p>To add the Google Cast Plugin for Brightcove Player SDK to your project manually:</p>

<ol>
<li>Follow the <a href="https://developers.google.com/cast/docs/ios_sender/#manual_setup">Google Cast SDK Manual Setup</a> guide.</li>
<li>Follow the <a href="https://github.com/brightcove/brightcove-player-sdk-ios#manual-installation">Brightcove Player SDK Manual Installation</a> guide.</li>
<li>Download the <a href="https://github.com/brightcove/brightcove-player-sdk-ios-googlecast">Google Cast Plugin for Brightcove Player SDK</a> framework.</li>
<li>On the &ldquo;General&rdquo; tab of your application target, add <code>BrightcoveGoogleCast.framework</code> or <code>BrightcoveGoogleCast.xcframework</code> from the Google Cast Plugin for Brightcove Player SDK download to the list of <strong>Frameworks, Libraries, Embedded Content</strong>.</li>
<li>On the &ldquo;Build Settings&rdquo; tab of your application target, ensure that the &ldquo;Framework Search Paths&rdquo; include the paths to the frameworks. This should have been done automatically unless the framework is stored under a different root directory than your project.</li>
<li>(<strong>Universal Framework</strong> only) On the &ldquo;Build Phases&rdquo; tab, add a &ldquo;Run Script&rdquo; phase with the command <code>bash ${BUILT_PRODUCTS_DIR}/${FRAMEWORKS_FOLDER_PATH}/BrightcoveGoogleCast.framework/strip-frameworks.sh</code>. Check &ldquo;Run script only when installing&rdquo;. This will remove unneeded architectures from the build, which is important for App Store submission.</li>
<li>(<strong>Apple Silicon with Universal Framework</strong> only) On the &ldquo;Build Settings&rdquo; tab of your application target:

<ul>
<li>Ensure that <code>arm64</code> has been added to your &ldquo;Excluded Architectures&rdquo; build setting for <code>Any iOS Simulator SDK</code>.</li>
</ul>
</li>
</ol>


<h3>Swift Package Manager</h3>

<p>To add the Google Cast Plugin for Brightcove Player SDK to your project with Swift Package Manager:</p>

<ol>
<li>First <a href="https://github.com/brightcove/brightcove-player-sdk-ios#swift-package-manager">follow the steps</a> to add the Core XCFramework with Swift Package Mananger.</li>
<li>Add the Google Cast package to Swift Package Manager using <a href="https://github.com/brightcove/brightcove-player-sdk-ios-googlecast.git"><code>https://github.com/brightcove/brightcove-player-sdk-ios-googlecast.git</code></a>.</li>
<li>Follow the <a href="https://developers.google.com/cast/docs/ios_sender/#manual_setup">Google Cast SDK Manual Setup</a> guide.</li>
</ol>


<h3>Imports</h3>

<p>The Google Cast Plugin for Brightcove Player SDK can be imported using:</p>

<pre><code>import BrightcoveGoogleCast
</code></pre>

<h2>Before You Begin</h2>

<p>Before attempting to utilize this plugin you should already be familiar with the following:</p>

<ul>
<li><a href="https://developers.google.com/cast/docs/registration">Register your application</a>. This will walk you through creating your reciever application and grant you an application ID. Starting out you can use the demo application ID &lsquo;4F8B3483&rsquo;.</li>
<li><a href="https://developers.google.com/cast/docs/ios_sender">Setup for Developing with the Cast Application Framework (CAF) for iOS </a>. This will walk you through setting up the necessary entitlements for your app.</li>
<li><a href="https://developers.google.com/cast/docs/ios_sender/integrate#initialize_the_cast_context">Initialze the Cast Context</a>. This will walk you through initializing the Cast Context with your receiver application ID.</li>
<li><a href="https://developers.google.com/cast/docs/ios_sender/integrate#add_mini_controllers">Add Mini Controllers</a>. This will walk you through how to take advantage of the Google Cast SDK&rsquo;s mini media controls.</li>
</ul>


<h2>Quick Start</h2>

<p>The BrightcoveGoogleCast plugin is a bridge between <a href="https://developers.google.com/cast/docs/ios_sender/">Google Cast iOS SDK</a> and the <a href="https://github.com/brightcove/brightcove-player-sdk-ios">Brightcove Player SDK for iOS</a>.</p>

<p>This snippet shows its basic usage.</p>

<pre><code>[1] googleCastManager = BCOVGoogleCastManager()

[2] playbackController = BCOVPlayerSDKManager.sharedManager().createPlaybackController()

[3] playbackController?.add(googleCastManager)
</code></pre>

<p>Breaking the code down into steps:</p>

<ol>
<li>Create a reference to the <a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a> singleton.</li>
<li>Create an instance of BCOVPlaybackController to use.</li>
<li>Add your <a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a> reference as a session consumer to your BCOVPlaybackController instance.</li>
</ol>


<h2>Brightcove CAF Receiver</h2>

<p>The application ID for the Brightcove CAF Receiver is <code>341387A3</code> and is assigned to the constant <code>kBCOVCAFReceiverApplicationID</code>. You can verify the application ID by checking the <a href="https://players.brightcove.net/videojs-chromecast-receiver/2/config.json">CAF Receiver config.json</a>.</p>

<p>If you are using the Brightcove CAF Receiver you&rsquo;ll need to initialize these variables like this:</p>

<pre><code>[1] let receiverAppConfig = BCOVReceiverAppConfig()
    receiverAppConfig.accountId = "&lt;account-id&gt;"
    receiverAppConfig.policyKey = "&lt;policy-key&gt;"

[2] googleCastManager = BCOVGoogleCastManager(forBrightcoveReceiverApp: receiverAppConfig)
</code></pre>

<p>The following properties are also available to set on <a href="Classes/BCOVReceiverAppConfig.html"><code>BCOVReceiverAppConfig</code></a> as needed:</p>

<ul>
<li>splashScreen (for customizing the splash screen image)</li>
<li>playerUrl (for using a customized player)</li>
<li>authToken (for use with PAS/EPA)</li>
<li>watermarkingToken (for use with Forensic Watermaking)</li>
<li>adConfigId (for use with SSAI)</li>
<li>userId (for use with analytics tracking)</li>
<li>applicationId (for use with analytics tracking)</li>
</ul>


<p><strong>NOTE: When using the Brightcove Cast Receiver app with the Brightcove Native SDKs, you must send the <code>catalogParams</code> object via the <code>customData</code> interface. A static URL is not supported. If you are correctly utilizing the <code>BCOVReceiverAppConfig</code> class this is handled for you.</strong></p>

<h2>Generic Stream Concurrency</h2>

<p>Generic Stream Concurrency is supported when using the Brightcove CAF Receiver. You must create a web player that has stream concurrency enabled.</p>

<p>At this time, there is no dedicated UI for this feature in Studio, so the JSON editor must be used. The configuration will look something like this:
<code>
  "video_cloud": {
    "stream_concurrency": true,
    "policy_key": "BCpk..."
  },
  "player": {
    "template": {
      "name": "single-video-template",
      "version": "6.63.1"
    }
  },
</code></p>

<p>Once you have configured your player you can specify your GSC enabled player using the <code>playerUrl</code> property on <a href="Classes/BCOVReceiverAppConfig.html"><code>BCOVReceiverAppConfig</code></a>:</p>

<pre><code>receiverAppConfig.playerUrl = "https://players.brightcove.net/.../index.min.js"
</code></pre>

<p>The following claims are required:
* <code>climit</code>: The concurrency limit claim indicates how many watchers or streams can play at the same time.
* <code>uid</code>: The viewer identifier is used to correlate multiple sessions to enforce Stream Concurrency
* <code>sid</code>: <a href="https://apis.support.brightcove.com/playback-restrictions/guides/generic-stream-concurrency.html#correlator_identifier">Correlator identifier</a> defines the streaming locations for a viewer.</p>

<p>For additional information please see the <a href="https://apis.support.brightcove.com/playback-restrictions/guides/generic-stream-concurrency.html#Implementation">Implementation</a> section of our Generic Stream Concurrency guide.</p>

<p>You can then set the <code>authToken</code> property on <a href="Classes/BCOVReceiverAppConfig.html"><code>BCOVReceiverAppConfig</code></a> with your JWT:</p>

<pre><code>receiverAppConfig.authToken = &lt;jwt&gt;
</code></pre>

<h2>Delegate Methods</h2>

<p><a href="Protocols/BCOVGoogleCastManagerDelegate.html">BCOVGoogleCastManagerDelegate</a> has delegate methods you can use to be notified when major cast-related events have occurred or are about to occur, for example</p>

<ul>
<li><code>func switched(toLocalPlayback lastKnownStreamPosition: TimeInterval, withError error: Error?)</code></li>
<li><code>func switchedToRemotePlayback()</code></li>
<li><code>func currentCastedVideoDidComplete()</code></li>
<li><code>func castedVideoFailedToPlay()</code></li>
<li><code>func suitableSourceNotFound()</code></li>
<li><code>func willBuild(_ builder: GCKMediaInformationBuilder)</code></li>
<li><code>func willSend(_ mediaLoadOptions: GCKMediaLoadOptions)</code></li>
</ul>


<p>For a complete list with descriptions, refer to the <a href="https://docs.brightcove.com/ios-plugins/googlecast/Protocols/BCOVGoogleCastManagerDelegate.html">BCOVGoogeCastManagerDelegate Protocol Reference</a>.</p>

<p>To take advantage of these events, set a delegate on the <a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a> singleton.</p>

<pre><code>googleCastManager.delegate = self
</code></pre>

<h2>Source Selection</h2>

<p>The <a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a> will attempt to find a suitable source to use. It will look for sources in this order:</p>

<ol>
<li>HTTPS HLS v3</li>
<li>HTTPS DASH</li>
<li>HTTPS MP4</li>
<li>HTTP HLS v3</li>
<li>HTTP DASH</li>
<li>HTTP MP4</li>
</ol>


<p>If none of these are found, the delegate method <code>suitableSourceNotFound</code> will be called.</p>

<p>Your Video Cloud account will need to be set up to support HLS v3, ensure that DASH is enabled or have an MP4 source available for each video.</p>

<h2>Customizations</h2>

<p>There are two properties, in addition to the delegate property, that you can set on the <a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a> class. These are:</p>

<ul>
<li><code>fallbackPosterImage: GCKImage</code>: The GCKImage that will be used when there is no poster image available for a video.</li>
<li><code>posterImageSize: CGSize</code>: The height and width that you want to use for the GCKImage object image that is created. Defaults to 480h x 720w.</li>
</ul>


<h2>Known Issues / Limitations</h2>

<h3>When using a default, unmodified receiver (including the demo receiver) the following limitations apply:</h3>

<ul>
<li>DRM is not supported.</li>
<li>Multiple Audio Tracks are not supported.</li>
<li>Client-side and Server-side Advertising are not supported.</li>
<li>Live and Live DVR streams are not supported.</li>
</ul>


<h3>When using the Brightcove CAF receiver the following limitations apply:</h3>

<ul>
<li>Client-side Advertising is not supported.</li>
</ul>


<h2>Support</h2>

<p>If you have questions, need help or want to provide feedback, please use the <a href="https://supportportal.brightcove.com/s/login/">Support Portal</a> or contact your Account Manager.  To receive notification of new SDK software releases, subscribe to the Brightcove Native Player SDKs <a href="https://groups.google.com/g/brightcove-native-player-sdks">Google Group</a>.</p>
						
						
					</div>
					

					<div class="index-container">
						

						
						<div class="index-column">
							<h2 class="index-title">Class References</h2>
							<ul>
								
								<li><a href="Classes/BCOVGoogleCastManager.html">BCOVGoogleCastManager</a></li>
								
								<li><a href="Classes/BCOVReceiverAppConfig.html">BCOVReceiverAppConfig</a></li>
								
							</ul>
						</div>
						

						
						<div class="index-column">
							
							<h2 class="index-title">Protocol References</h2>
							<ul>
								
								<li><a href="Protocols/BCOVGoogleCastManagerDelegate.html">BCOVGoogleCastManagerDelegate</a></li>
								
							</ul>
							

							

							
						</div>
						
					</div>

					<footer>
						<div class="footer-copyright">
							
							<p class="copyright">Copyright &copy; 2024 Brightcove. All rights reserved. Updated: 2024-11-14</p>
							
							
							<p class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.2.1 (build 1334)</a>.</p>
							
						</div>
					</footer>
				</main>
			</div>
		</div>
	</article>

	<script src="js/script.js"></script>
</body>
</html>